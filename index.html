<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Global News Dashboard</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.2.1/css/all.min.css" rel="stylesheet">
    <style>
        :root {
            --bg-primary: #ffffff;
            --bg-secondary: #f3f4f6;
            --text-primary: #111827;
            --text-secondary: #4b5563;
            --border-color: #e5e7eb;
            --blue-news: #3b82f6;
            --red-news: #ef4444;
            --purple-news: #8b5cf6;
            --white-news: #f9fafb;
            --blue-bg: rgba(59, 130, 246, 0.1);
            --red-bg: rgba(239, 68, 68, 0.1);
            --purple-bg: rgba(139, 92, 246, 0.1);
            --white-bg: rgba(249, 250, 251, 0.9);
        }

        .dark-mode {
            --bg-primary: #1f2937;
            --bg-secondary: #111827;
            --text-primary: #f9fafb;
            --text-secondary: #d1d5db;
            --border-color: #374151;
            --blue-news: #60a5fa;
            --red-news: #f87171;
            --purple-news: #a78bfa;
            --white-news: #ffffff;
            --blue-bg: rgba(96, 165, 250, 0.2);
            --red-bg: rgba(248, 113, 113, 0.2);
            --purple-bg: rgba(167, 139, 250, 0.2);
            --white-bg: rgba(255, 255, 255, 0.1);
        }

        body {
            background-color: var(--bg-primary);
            color: var(--text-primary);
            transition: all 0.3s ease;
        }

        .container {
            max-width: 1400px;
        }

        .tab-content {
            display: none;
        }

        .tab-content.active {
            display: flex;
        }

        .news-panel {
            height: calc(100vh - 180px);
            overflow-y: auto;
            background-color: var(--bg-secondary);
            border: 1px solid var(--border-color);
            border-radius: 0.5rem;
        }

        .message {
            margin-bottom: 1rem;
            padding: 0.75rem 1rem;
            border-radius: 0.5rem;
            position: relative;
            transition: all 0.3s ease;
        }

        .message.blue {
            background-color: var(--blue-bg);
            border-left: 4px solid var(--blue-news);
        }

        .message.red {
            background-color: var(--red-bg);
            border-left: 4px solid var(--red-news);
        }

        .message.purple {
            background-color: var(--purple-bg);
            border-left: 4px solid var(--purple-news);
        }

        .message.white {
            background-color: var(--white-bg);
            border-left: 4px solid var(--white-news);
        }

        .cartoon {
            display: flex;
            flex-direction: column;
            align-items: center;
            margin-bottom: 2rem;
            padding: 1rem;
            border: 1px solid var(--border-color);
            border-radius: 0.5rem;
            background-color: var(--bg-secondary);
            transition: all 0.3s ease;
        }

        .cartoon.blue {
            border-top: 4px solid var(--blue-news);
        }

        .cartoon.red {
            border-top: 4px solid var(--red-news);
        }

        .cartoon.purple {
            border-top: 4px solid var(--purple-news);
        }

        .cartoon.white {
            border-top: 4px solid var(--white-news);
        }

        .cartoon-avatar {
            width: 80px;
            height: 80px;
            border-radius: 50%;
            background-color: #ddd;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 2rem;
            margin-bottom: 0.5rem;
            overflow: hidden;
        }

        .speech-bubble {
            position: relative;
            background-color: var(--bg-primary);
            border-radius: 0.5rem;
            padding: 0.75rem;
            margin-top: 1rem;
            width: 100%;
            border: 1px solid var(--border-color);
        }

        .speech-bubble:after {
            content: '';
            position: absolute;
            top: -10px;
            left: 50%;
            transform: translateX(-50%);
            border-width: 0 10px 10px;
            border-style: solid;
            border-color: var(--bg-primary) transparent;
        }

        .filter-btn {
            padding: 0.5rem 1rem;
            border-radius: 0.5rem;
            margin-right: 0.5rem;
            cursor: pointer;
            transition: all 0.3s ease;
            border: 1px solid var(--border-color);
        }

        .filter-btn.blue {
            background-color: var(--blue-bg);
            border-color: var(--blue-news);
            color: var(--blue-news);
        }

        .filter-btn.red {
            background-color: var(--red-bg);
            border-color: var(--red-news);
            color: var(--red-news);
        }

        .filter-btn.purple {
            background-color: var(--purple-bg);
            border-color: var(--purple-news);
            color: var(--purple-news);
        }

        .filter-btn.white {
            background-color: var(--white-bg);
            border-color: var(--white-news);
            color: var(--text-primary);
        }

        .filter-btn.active {
            opacity: 1;
            box-shadow: 0 0 0 2px var(--border-color);
        }

        .filter-btn:not(.active) {
            opacity: 0.6;
        }

        .tab-button {
            padding: 0.75rem 1.5rem;
            border-bottom: 2px solid transparent;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .tab-button.active {
            border-bottom: 2px solid var(--blue-news);
            color: var(--blue-news);
            font-weight: bold;
        }

        .slider-container {
            width: 100%;
            padding: 1rem;
            background-color: var(--bg-secondary);
            border-radius: 0.5rem;
            margin-bottom: 1rem;
            border: 1px solid var(--border-color);
        }

        .dark-mode-toggle {
            position: relative;
            width: 60px;
            height: 30px;
            border-radius: 15px;
            background-color: var(--bg-secondary);
            cursor: pointer;
            transition: all 0.3s ease;
            border: 1px solid var(--border-color);
        }

        .toggle-circle {
            position: absolute;
            top: 2px;
            left: 2px;
            width: 26px;
            height: 26px;
            border-radius: 50%;
            background-color: var(--text-primary);
            transition: all 0.3s ease;
        }

        .dark-mode .toggle-circle {
            transform: translateX(30px);
        }

        .countdown-container {
            background-color: var(--bg-secondary);
            border-radius: 0.5rem;
            padding: 0.75rem;
            border: 1px solid var(--border-color);
            width: 150px;
            text-align: center;
        }

        .countdown-timer {
            font-size: 1.25rem;
            font-weight: bold;
            color: var(--blue-news);
        }

        .countdown-label {
            font-size: 0.875rem;
            color: var(--text-secondary);
        }

        /* Scrollbar styles */
        .news-panel::-webkit-scrollbar {
            width: 8px;
        }

        .news-panel::-webkit-scrollbar-track {
            background: var(--bg-secondary);
        }

        .news-panel::-webkit-scrollbar-thumb {
            background-color: var(--border-color);
            border-radius: 4px;
        }
    </style>
</head>
<body>
    <div class="container mx-auto px-4 py-6">
        <div class="flex justify-between items-center mb-6">
            <h1 class="text-3xl font-bold">Global News Dashboard</h1>
            <div class="flex items-center space-x-4">
                <div class="countdown-container">
                    <div id="countdown-timer" class="countdown-timer">01:00</div>
                    <div class="countdown-label">Until next update</div>
                </div>
                <div class="dark-mode-toggle" id="darkModeToggle">
                    <div class="toggle-circle"></div>
                </div>
            </div>
        </div>

        <div class="tab-nav flex border-b border-gray-300 mb-6">
            <div class="tab-button active" data-tab="israel">Israel</div>
            <div class="tab-button" data-tab="usa">USA</div>
            <div class="tab-button" data-tab="international">International</div>
        </div>

        <div class="filter-container flex mb-4">
            <div class="mr-2 text-sm flex items-center">Filter:</div>
            <div class="filter-btn blue active" data-color="blue">Regular</div>
            <div class="filter-btn red active" data-color="red">Extraordinary</div>
            <div class="filter-btn purple active" data-color="purple">Deep State</div>
            <div class="filter-btn white active" data-color="white">High Ranking</div>
        </div>

        <!-- Israel Tab -->
        <div id="israel-tab" class="tab-content active">
            <div class="slider-container mb-4">
                <h3 class="text-lg font-semibold mb-2">People vs Deep State Balance</h3>
                <input type="range" min="0" max="100" value="50" class="w-full" id="israel-slider">
                <div class="flex justify-between mt-1">
                    <span>People</span>
                    <span>Deep State</span>
                </div>
            </div>
            <div class="flex flex-col md:flex-row gap-4">
                <div class="news-panel w-full md:w-1/2 p-4" id="israel-news">
                    <!-- News messages will be dynamically inserted here -->
                </div>
                <div class="news-panel w-full md:w-1/2 p-4" id="israel-cartoons">
                    <!-- Cartoon representations will be dynamically inserted here -->
                </div>
            </div>
        </div>

        <!-- USA Tab -->
        <div id="usa-tab" class="tab-content">
            <div class="slider-container mb-4">
                <h3 class="text-lg font-semibold mb-2">People vs Deep State Balance</h3>
                <input type="range" min="0" max="100" value="60" class="w-full" id="usa-slider">
                <div class="flex justify-between mt-1">
                    <span>People</span>
                    <span>Deep State</span>
                </div>
            </div>
            <div class="flex flex-col md:flex-row gap-4">
                <div class="news-panel w-full md:w-1/2 p-4" id="usa-news">
                    <!-- News messages will be dynamically inserted here -->
                </div>
                <div class="news-panel w-full md:w-1/2 p-4" id="usa-cartoons">
                    <!-- Cartoon representations will be dynamically inserted here -->
                </div>
            </div>
        </div>

        <!-- International Tab -->
        <div id="international-tab" class="tab-content">
            <div class="slider-container mb-4">
                <h3 class="text-lg font-semibold mb-2">People vs Deep State Balance</h3>
                <input type="range" min="0" max="100" value="40" class="w-full" id="international-slider">
                <div class="flex justify-between mt-1">
                    <span>People</span>
                    <span>Deep State</span>
                </div>
            </div>
            <div class="flex flex-col md:flex-row gap-4">
                <div class="news-panel w-full md:w-1/2 p-4" id="international-news">
                    <!-- News messages will be dynamically inserted here -->
                </div>
                <div class="news-panel w-full md:w-1/2 p-4" id="international-cartoons">
                    <!-- Cartoon representations will be dynamically inserted here -->
                </div>
            </div>
        </div>
    </div>

    <script>
        // Mock news data for each tab
        const mockNewsData = {
            israel: [
                { title: "Knesset debates new tax reform bill", content: "The Israeli parliament is debating a comprehensive tax reform bill aimed at simplifying the tax code and reducing burden on middle-class families.", category: "blue", person: "Israeli Lawmaker", personIcon: "ðŸ‘¨â€ðŸ’¼", action: "Just proposed a simplified tax system that would benefit the middle class." },
                { title: "Prime Minister addresses security concerns at northern border", content: "Israeli Prime Minister held an emergency cabinet meeting to address escalating tensions at the northern border, promising decisive action to protect citizens.", category: "white", person: "Prime Minister", personIcon: "ðŸ‡®ðŸ‡±", action: "Just ordered increased security measures along the northern border after recent incidents." },
                { title: "Unusual military movements spotted near Gaza", content: "Military analysts report unusual troop movements near the Gaza border, raising concerns about potential escalation in the region.", category: "red", person: "Military Commander", personIcon: "ðŸª–", action: "Just ordered unexpected troop movements near the Gaza border without explanation to the public." },
                { title: "Foreign intelligence reportedly operating within ministerial offices", content: "Anonymous sources claim evidence of foreign intelligence operations within key ministerial offices, raising concerns about national security breaches.", category: "purple", person: "Intelligence Official", personIcon: "ðŸ•µï¸", action: "Was just caught trying to cover up evidence of foreign agents within the Defense Ministry." },
                { title: "Budget committee approves new infrastructure funding", content: "The budget committee has approved 2.3 billion shekels for infrastructure improvements across the country, focusing on transportation and water systems.", category: "blue", person: "Finance Minister", personIcon: "ðŸ‘¨â€ðŸ’¼", action: "Just approved a massive infrastructure budget after meeting with construction company executives." },
                { title: "Defense Minister calls for increased military budget", content: "In light of regional tensions, the Defense Minister has called for a significant increase to the military budget for the coming fiscal year.", category: "white", person: "Defense Minister", personIcon: "ðŸ›¡ï¸", action: "Just demanded a 15% increase in military spending while cutting social programs." },
                { title: "Leaked documents suggest unauthorized surveillance program", content: "Classified documents leaked to media outlets suggest an unauthorized surveillance program targeting political activists and journalists.", category: "purple", person: "Intelligence Director", personIcon: "ðŸ•´ï¸", action: "Was just implicated in authorizing illegal surveillance of journalists and opposition leaders." },
                { title: "Unexpected cabinet reshuffle announced", content: "The Prime Minister has announced a surprise cabinet reshuffle, removing three ministers and appointing new faces to key positions.", category: "red", person: "Deputy Minister", personIcon: "ðŸ‘©â€ðŸ’¼", action: "Just got unexpectedly promoted after the mysterious resignation of her superior." }
            ],
            usa: [
                { title: "Congress passes bipartisan infrastructure bill", content: "After months of negotiation, Congress has passed a bipartisan infrastructure bill allocating $1.2 trillion to roads, bridges, and broadband internet.", category: "blue", person: "Senator", personIcon: "ðŸ‘¨â€ðŸ’¼", action: "Just negotiated a compromise that got both parties to support the infrastructure bill." },
                { title: "President signs executive order on climate change", content: "The President has signed a sweeping executive order addressing climate change and setting ambitious carbon reduction targets for federal agencies.", category: "white", person: "President", personIcon: "ðŸ‡ºðŸ‡¸", action: "Just bypassed Congress with an executive order on climate policy that energy companies are fighting." },
                { title: "Federal Reserve implements unexpected interest rate hike", content: "The Federal Reserve has implemented a surprise 0.5% interest rate hike, citing inflation concerns despite previous statements suggesting stability.", category: "red", person: "Federal Reserve Chair", personIcon: "ðŸ’°", action: "Just announced a surprise interest rate hike after private meetings with major bank CEOs." },
                { title: "Classified program funding billions to unknown contractors revealed", content: "A congressional oversight committee has uncovered a classified program routing billions in taxpayer dollars to unidentified defense contractors.", category: "purple", person: "Defense Contractor CEO", personIcon: "ðŸ’¼", action: "Just received another billion-dollar contract through a classified program with no competitive bidding." },
                { title: "Supreme Court agrees to hear controversial election case", content: "The Supreme Court has agreed to hear a case that could significantly impact how elections are conducted and votes are counted across the country.", category: "blue", person: "Supreme Court Justice", personIcon: "âš–ï¸", action: "Just voted to hear a case that could fundamentally change election procedures nationwide." },
                { title: "Vice President leads diplomatic mission to Asia", content: "The Vice President is leading a high-profile diplomatic mission to several Asian nations, focusing on trade relations and security partnerships.", category: "white", person: "Vice President", personIcon: "ðŸ‡ºðŸ‡¸", action: "Just negotiated a secret security agreement during the Asian diplomatic tour." },
                { title: "Intelligence agencies withholding information from congressional oversight", content: "Multiple sources claim intelligence agencies are systematically withholding critical information from congressional oversight committees.", category: "purple", person: "Intelligence Director", personIcon: "ðŸ•µï¸", action: "Was just caught lying to Congress about surveillance programs targeting American citizens." },
                { title: "Emergency White House meeting called after midnight", content: "Sources report an emergency meeting was called at the White House after midnight, with senior defense and intelligence officials attending.", category: "red", person: "National Security Advisor", personIcon: "ðŸ”", action: "Just called an emergency meeting at 2 AM without providing explanation to the press." }
            ],
            international: [
                { title: "EU adopts new climate change framework", content: "The European Union has adopted a comprehensive climate change framework that sets binding emission reduction targets for all member states.", category: "blue", person: "EU Commissioner", personIcon: "ðŸ‡ªðŸ‡º", action: "Just announced ambitious climate targets that will require major economic adjustments across Europe." },
                { title: "UN Secretary-General warns of humanitarian crisis", content: "The UN Secretary-General has issued an urgent warning about an impending humanitarian crisis in several African nations experiencing severe drought.", category: "white", person: "UN Secretary-General", personIcon: "ðŸ‡ºðŸ‡³", action: "Just called for immediate humanitarian aid to drought-stricken regions while criticizing wealthy nations for inaction." },
                { title: "Unexpected currency devaluation shocks global markets", content: "A major Asian economy has unexpectedly devalued its currency by 15%, sending shockwaves through global financial markets.", category: "red", person: "Finance Minister", personIcon: "ðŸ’´", action: "Just defended the sudden currency devaluation while his family reportedly moved assets offshore last week." },
                { title: "Private military contractors seen in conflict zone despite denials", content: "Despite official denials, evidence shows private military contractors operating in a conflict zone under apparent direction from major powers.", category: "purple", person: "Private Military CEO", personIcon: "ðŸª–", action: "Was just spotted meeting with government officials after publicly denying operations in the conflict zone." },
                { title: "G20 reaches agreement on minimum corporate tax", content: "G20 nations have reached a landmark agreement establishing a global minimum corporate tax rate of 15% to prevent tax avoidance.", category: "blue", person: "Finance Minister", personIcon: "ðŸ“Š", action: "Just signed the global tax agreement while quietly adding exemptions that benefit companies in their country." },
                { title: "Russian President proposes new security framework", content: "The Russian President has proposed a new international security framework that would reshape power dynamics in Eastern Europe.", category: "white", person: "Russian President", personIcon: "ðŸ‡·ðŸ‡º", action: "Just suggested a new security arrangement that Western analysts say would undermine NATO's influence." },
                { title: "Leaked documents reveal secret trade agreements", content: "Thousands of leaked documents reveal secret trade agreements negotiated without public knowledge, potentially overriding national regulations.", category: "purple", person: "Trade Negotiator", personIcon: "ðŸ“", action: "Was just exposed for secretly negotiating trade deals that bypass environmental and labor protections." },
                { title: "Diplomatic crisis erupts after ambassador's expulsion", content: "A diplomatic crisis has erupted after the surprise expulsion of a Western ambassador from a Middle Eastern nation with no formal explanation.", category: "red", person: "Foreign Minister", personIcon: "ðŸŒ", action: "Just expelled a Western ambassador hours after meeting with rival power representatives." }
            ]
        };

        // DOM elements
        const tabButtons = document.querySelectorAll('.tab-button');
        const tabContents = document.querySelectorAll('.tab-content');
        const filterButtons = document.querySelectorAll('.filter-btn');
        const darkModeToggle = document.getElementById('darkModeToggle');
        const countdownTimer = document.getElementById('countdown-timer');
        
        // Initialize tabs
        tabButtons.forEach(button => {
            button.addEventListener('click', () => {
                const tabName = button.getAttribute('data-tab');
                
                // Update active tab button
                tabButtons.forEach(btn => btn.classList.remove('active'));
                button.classList.add('active');
                
                // Update active tab content
                tabContents.forEach(content => content.classList.remove('active'));
                document.getElementById(`${tabName}-tab`).classList.add('active');
            });
        });
        
        // Initialize filters
        filterButtons.forEach(button => {
            button.addEventListener('click', () => {
                const color = button.getAttribute('data-color');
                button.classList.toggle('active');
                
                // Update visibility of news items
                document.querySelectorAll(`.message.${color}, .cartoon.${color}`).forEach(item => {
                    item.style.display = button.classList.contains('active') ? 'block' : 'none';
                });
            });
        });
        
        // Dark mode toggle
        darkModeToggle.addEventListener('click', () => {
            document.body.classList.toggle('dark-mode');
            localStorage.setItem('darkMode', document.body.classList.contains('dark-mode'));
        });
        
        // Check for saved dark mode preference
        if (localStorage.getItem('darkMode') === 'true') {
            document.body.classList.add('dark-mode');
        }
        
        // Initialize countdown timer
        let countdown = 60; // Start with 1 minute
        let isFirstUpdate = true;
        
        function updateCountdown() {
            const minutes = Math.floor(countdown / 60);
            const seconds = countdown % 60;
            countdownTimer.textContent = `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
            
            if (countdown <= 0) {
                // Fetch new news
                updateNews();
                
                // Reset countdown - first time 1 minute, then 5 minutes
                countdown = isFirstUpdate ? 300 : 300; // 5 minutes = 300 seconds
                isFirstUpdate = false;
            } else {
                countdown--;
            }
        }
        
        // Update countdown every second
        setInterval(updateCountdown, 1000);
        
        // Function to generate a random news item
        function getRandomNews(newsArray) {
            const randomIndex = Math.floor(Math.random() * newsArray.length);
            return newsArray[randomIndex];
        }
        
        // Function to create news messages
        function createNewsMessage(news) {
            const messageDiv = document.createElement('div');
            messageDiv.className = `message ${news.category}`;
            
            const timeStamp = new Date().toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' });
            
            messageDiv.innerHTML = `
                <div class="flex justify-between mb-1">
                    <span class="font-bold">${news.title}</span>
                    <span class="text-sm text-gray-500">${timeStamp}</span>
                </div>
                <p>${news.content}</p>
            `;
            
            return messageDiv;
        }
        
        // Function to create cartoon representations
        function createCartoon(news) {
            const cartoonDiv = document.createElement('div');
            cartoonDiv.className = `cartoon ${news.category}`;
            
            cartoonDiv.innerHTML = `
                <div class="cartoon-avatar" style="background-color: ${getRandomColor(news.category)};">
                    ${news.personIcon}
                </div>
                <div class="font-semibold text-center">${news.person}</div>
                <div class="speech-bubble">
                    "${news.action}"
                </div>
            `;
            
            return cartoonDiv;
        }
        
        // Function to get a random color based on category
        function getRandomColor(category) {
            const colors = {
                'blue': ['#dbeafe', '#bfdbfe', '#93c5fd'],
                'red': ['#fee2e2', '#fecaca', '#fca5a5'],
                'purple': ['#ede9fe', '#ddd6fe', '#c4b5fd'],
                'white': ['#f9fafb', '#f3f4f6', '#e5e7eb']
            };
            
            const colorArray = colors[category];
            return colorArray[Math.floor(Math.random() * colorArray.length)];
        }
        
        // Function to update news content
        function updateNews() {
            // Clear existing news
            document.getElementById('israel-news').innerHTML = '';
            document.getElementById('israel-cartoons').innerHTML = '';
            document.getElementById('usa-news').innerHTML = '';
            document.getElementById('usa-cartoons').innerHTML = '';
            document.getElementById('international-news').innerHTML = '';
            document.getElementById('international-cartoons').innerHTML = '';
            
            // Generate new news items
            generateNewsForTab('israel', 6);
            generateNewsForTab('usa', 6);
            generateNewsForTab('international', 6);
        }
        
        // Function to generate news for a specific tab
        function generateNewsForTab(tabName, count) {
            const newsContainer = document.getElementById(`${tabName}-news`);
            const cartoonContainer = document.getElementById(`${tabName}-cartoons`);
            
            const availableNews = [...mockNewsData[tabName]];
            
            for (let i = 0; i < count; i++) {
                if (availableNews.length === 0) break;
                
                // Get a random index
                const randomIndex = Math.floor(Math.random() * availableNews.length);
                const newsItem = availableNews.splice(randomIndex, 1)[0];
                
                // Create and append news message
                const messageDiv = createNewsMessage(newsItem);
                newsContainer.appendChild(messageDiv);
                
                // Create and append cartoon representation
                const cartoonDiv = createCartoon(newsItem);
                cartoonContainer.appendChild(cartoonDiv);
            }
        }
        
        // Initialize sliders
        const israelSlider = document.getElementById('israel-slider');
        const usaSlider = document.getElementById('usa-slider');
        const internationalSlider = document.getElementById('international-slider');
        
        // Initial news generation
        updateNews();
    </script>
</body>
</html>
